{"version":3,"sources":["redux/auth/auth-operation.js","redux/auth/auth-slise.js","redux/phonebook/phonebook-action.js","redux/phonebookAPI.js","redux/phonebook/phonebook-option.js","redux/phonebook/phonebook-reduser.js","redux/store.js","PrivateRoute.js","PublicRoute.js","components/Navigation/Navigation.js","components/AuthNav/AuthNav.js","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","components/ContactForm/ContactForm.js","components/Filter/Filter.js","components/ContactList/ContactList.js","components/Phonebook/Phonebook.js","components/Login/Login.js","components/Register/Register.js","App.js","index.js","components/UserMenu/UserMenu.module.css","components/Register/Register.module.css","components/AppBar/AppBar.module.css","components/Login/Login.module.css"],"names":["profile","localStorage","getItem","axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credential","a","console","log","post","data","Error","login","auth","logout","currentUser","get","JSON","parse","replace","initialState","user","name","email","isLoggedIn","authReduser","createSlice","extraReducers","authOperations","fulfilled","state","action","payload","_","filterContacts","createAction","number","then","res","catch","err","id","delete","api","postContact","fetchContacts","deleteContact","postContacts","items","createReducer","filter","el","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","store","configureStore","reducer","persistReducer","authReducer","contacts","contatsReducer","devTools","process","persistor","persistStore","PrivateRoute","children","routeProps","useSelector","to","PublicRoute","redirectTo","restricted","shouldRedirect","Navigation","Button","variant","color","AuthNav","ButtonGroup","UserMenu","dispatch","useDispatch","useEffect","className","styles","cont","Avatar","alt","style","fontSize","onClick","size","AppBar","ContactForm","handleChange","handleSubmit","onSubmit","onChange","type","value","pattern","title","required","Filter","ContactList","deleteItem","map","contact","Phonebook","useState","setName","setNumber","options","e","target","preventDefault","some","includes","NotificationManager","error","toLowerCase","Register","setEmail","password","setPassword","noValidate","autoComplete","width","display","flexDirection","TextField","label","helperText","submitForm","registerForm","App","path","ReactDOM","render","StrictMode","loader","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.730e2edc.chunk.js","sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst profile = localStorage.getItem(\"persist:root\");\n// console.log(JSON.parse(profile).token);\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = ``;\n  },\n};\n\nconst register = createAsyncThunk(\"auth/register\", async (credential) => {\n  try {\n    console.log(credential);\n    const { data } = await axios.post(\"/users/signup\", credential);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    return new Error(error);\n  }\n});\n\nconst login = createAsyncThunk(\"auth/login\", async (credential) => {\n  try {\n    console.log(credential);\n    const { data } = await axios.post(\"/users/login\", credential);\n    token.set(data?.token);\n    return data;\n  } catch (error) {\n    return new Error(error);\n  }\n});\n\nconst logout = createAsyncThunk(\"auth/logout\", async (credential) => {\n  try {\n    await axios.post(\"/users/logout\");\n    token.unset();\n  } catch (error) {}\n});\n\nconst currentUser = createAsyncThunk(\"auth/current\", async (credential) => {\n  try {\n    const { data } = await axios.get(\"/users/current\", {\n      headers: {\n        Authorization: `Bearer ${JSON.parse(profile)?.token.replace(\n          /['\"]/g,\n          \"\"\n        )}`,\n      },\n    });\n    token.set(data.token);\n    return data;\n  } catch (error) {}\n});\n\nconst auth = {\n  register,\n  logout,\n  login,\n  currentUser,\n};\n\nexport default auth;\n","import { createSlice } from '@reduxjs/toolkit';\nimport authOperations from './auth-operation';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n};\n\nconst authReduser = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n\n    [authOperations.logout.fulfilled](state, _) {\n      state.user = initialState.user;\n      state.token = initialState.token;\n      state.isLoggedIn = initialState.isLoggedIn;\n    },\n    [authOperations.login.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n    },\n\n    [authOperations.currentUser.fulfilled](state, action) {\n      console.log(action);\n      state.user.name = action.payload.name;\n      state.user.email = action.payload.email;\n      state.isLoggedIn = true;\n    },\n  },\n});\n\nexport default authReduser.reducer;\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const filterContacts = createAction('phonebook/filterContacts');\n","import axios from \"axios\";\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst profile = localStorage.getItem(\"persist:root\");\n// console.log(JSON.parse(profile).token);\n\nasync function postContact({ name, number }) {\n  const { data } = await axios\n    .post(\n      \"/contacts\",\n      {\n        name,\n        number,\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${JSON.parse(profile)?.token.replace(\n            /['\"]/g,\n            \"\"\n          )}`,\n        },\n      }\n    )\n    .then((res) => res)\n    .catch((err) => err);\n\n  return data;\n}\n\nasync function deleteContact(id) {\n  const { data } = await axios\n    .delete(`/contacts/${id}`, {\n      headers: {\n        Authorization: `Bearer ${JSON.parse(profile)?.token.replace(\n          /['\"]/g,\n          \"\"\n        )}`,\n      },\n    })\n    .then((res) => res)\n    .catch((err) => err);\n  return data;\n}\n\nasync function fetchContacts() {\n  const { data } = await axios.get(\"/contacts\", {\n    headers: {\n      Authorization: `Bearer ${JSON.parse(profile)?.token.replace(\n        /['\"]/g,\n        \"\"\n      )}`,\n    },\n  });\n\n  return data;\n}\n\nconst api = {\n  postContact,\n  fetchContacts,\n  deleteContact,\n};\n\nexport default api;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport api from '../phonebookAPI';\n\nexport const fetchContacts = createAsyncThunk(\n  'contacts/fetchContacts',\n  async name => await api.fetchContacts(name),\n);\n\nexport const postContacts = createAsyncThunk(\n  'contacts/postContacts',\n  async ({ name, number }) => await api.postContact({ name, number }),\n);\n\nexport const deleteContact = createAsyncThunk(\n  'contacts/deleteContacts',\n  async id => {\n    console.log(id);\n    return await api.deleteContact(id);\n  },\n);\n","import { createReducer, combineReducers } from '@reduxjs/toolkit';\nimport { filterContacts } from './phonebook-action';\nimport { fetchContacts, postContacts, deleteContact } from './phonebook-option';\n\nconst items = createReducer([], {\n  [fetchContacts.fulfilled]: (_, action) => action.payload,\n  [postContacts.fulfilled]: (state, action) => [...state, action.payload],\n\n  [deleteContact.fulfilled]: (state, action) =>\n    state.filter(el => el.id !== action.payload),\n});\n\nconst filter = createReducer('', {\n  [filterContacts]: (_, action) => action.payload,\n});\n\nexport default combineReducers({\n  items,\n  filter,\n});\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport logger from 'redux-logger';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport authReducer from './auth';\nimport contatsReducer from './phonebook/phonebook-reduser';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  logger,\n];\n\nconst authPersistConfig = {\n  key: 'root',\n  storage,\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contatsReducer,\n  },\n  devTools: process.env.NODE_ENV === 'development',\n  middleware,\n});\n\nexport const persistor = persistStore(store);\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport default function PrivateRoute({ children, ...routeProps }) {\n  const isLoggedIn = useSelector(state => state.auth.isLoggedIn);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to=\"/login\" />}\n    </Route>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport default function PublicRoute({\n  redirectTo = '/',\n  children,\n  restricted = false,\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(state => state.auth.isLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Button } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\n\nexport default function Navigation() {\n  const isLoggedIn = useSelector(state => state.auth.isLoggedIn);\n  return (\n    <div>\n      <NavLink to=\"/contacts\">\n        <Button variant={isLoggedIn ? 'contained' : 'disabled'} color=\"primary\">\n          Contacts\n        </Button>\n      </NavLink>\n    </div>\n  );\n}\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { ButtonGroup, Button } from '@material-ui/core';\n\nexport default function AuthNav() {\n  return (\n    <ButtonGroup\n      variant=\"text\"\n      color=\"primary\"\n      aria-label=\"text primary button group\"\n    >\n      <NavLink to=\"/register\">\n        <Button color=\"primary\">Register</Button>\n      </NavLink>\n\n      <NavLink to=\"/login\">\n        <Button color=\"primary\">Login</Button>\n      </NavLink>\n    </ButtonGroup>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport auth from '../../redux/auth/auth-operation';\nimport { Avatar, Button } from '@material-ui/core';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport styles from './UserMenu.module.css';\n\nexport default function UserMenu() {\n  const user = useSelector(state => state.auth.user);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(auth.currentUser());\n  }, [dispatch]);\n  return (\n    <div className={styles.cont}>\n      <Avatar alt=\"avatar\" color=\"primary\">\n        <AccountCircle style={{ fontSize: 50 }} color=\"primary\" />\n      </Avatar>\n      <p className={styles.email}>{user?.name}</p>\n      <Button\n        onClick={() => dispatch(auth.logout())}\n        variant=\"contained\"\n        color=\"primary\"\n        size=\"small\"\n      >\n        Log out\n      </Button>\n    </div>\n  );\n}\n","import React from 'react';\nimport Navigation from '../Navigation';\nimport AuthNav from '../AuthNav';\nimport UserMenu from '../UserMenu';\nimport styles from './AppBar.module.css';\nimport { useSelector } from 'react-redux';\n\nexport default function AppBar() {\n  const isLoggedIn = useSelector(state => state.auth.isLoggedIn);\n  return (\n    <div className={styles.AppBar}>\n      <Navigation />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </div>\n  );\n}\n","import React from 'react';\nimport './ContactForm.css';\nimport { Button } from '@material-ui/core';\n\nexport default function ContactForm({\n  name,\n  number,\n  handleChange,\n  handleSubmit,\n}) {\n  return (\n    <form className=\"phonebook-form\" onSubmit={handleSubmit}>\n      <label className=\"phonebook-label\">\n        Name\n        <input\n          className=\"phonebook-input\"\n          onChange={handleChange}\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n          required\n        />\n      </label>\n      <label className=\"phonebook-label\">\n        Number\n        <input\n          className=\"phonebook-input\"\n          onChange={handleChange}\n          type=\"tel\"\n          name=\"number\"\n          value={number}\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n          required\n        />\n      </label>\n      <button type=\"submit\">\n        <Button variant=\"contained\" color=\"primary\" size=\"small\">\n          Submit\n        </Button>\n      </button>\n    </form>\n  );\n}\n","import React from 'react';\nimport './Filter.css';\n\nexport default function Filter({ filter, handleChange }) {\n  return (\n    <div>\n      <p className=\"filter-title\">Find contacts by name</p>\n      <input\n        className=\"search\"\n        onChange={handleChange}\n        type=\"text\"\n        name=\"filter\"\n        value={filter}\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport './ContactList.css';\n\nexport default function ContactList({ contacts, deleteItem }) {\n  return (\n    <ul>\n      {contacts.map(contact => {\n        return (\n          <li key={contact.id} className=\"list-item\">\n            {`${contact.name}: ${contact.number}`}\n            <button id={contact.id} onClick={deleteItem} className=\"delete-btn\">\n              delete\n            </button>\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n","import React from \"react\";\nimport ContactForm from \"../ContactForm/ContactForm\";\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as options from \"../../redux/phonebook/phonebook-option\";\nimport * as action from \"../../redux/phonebook/phonebook-action\";\nimport Filter from \"../Filter/Filter\";\nimport ContactList from \"../ContactList/ContactList\";\nimport \"react-notifications/lib/notifications.css\";\nimport {\n  NotificationContainer,\n  NotificationManager,\n} from \"react-notifications\";\n\nexport default function Phonebook() {\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const contacts = useSelector((state) => state.contacts.items);\n  const filter = useSelector((state) => state.contacts.filter);\n\n  useEffect(() => {\n    dispatch(options.fetchContacts());\n  }, [dispatch]);\n\n  const handleSubmit = function (e) {\n    e.preventDefault();\n    setName(\"\");\n    setNumber(\"\");\n\n    if (contacts.some((contact) => contact?.name.includes(name))) {\n      NotificationManager.error(`${name} is alredy in contacts`, \"Error\", 3000);\n      return;\n    }\n\n    dispatch(options.postContacts({ name, number }));\n  };\n\n  const handleFilter = () => {\n    return contacts.filter((contact) =>\n      contact?.name.toLowerCase().includes(filter.toLowerCase())\n    );\n  };\n\n  const handleChange = (e) => {\n    if (e.target.name === \"filter\") {\n      dispatch(action.filterContacts(e.target.value));\n      return;\n    }\n    if (e.target.name === \"name\") {\n      setName(e.target.value);\n      return;\n    }\n    if (e.target.name === \"number\") {\n      setNumber(e.target.value);\n      return;\n    }\n  };\n\n  const deleteItem = async (e) => {\n    const { id } = e.target;\n\n    await dispatch(options.deleteContact(id));\n    dispatch(options.fetchContacts());\n  };\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <ContactForm\n        name={name}\n        number={number}\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n      />\n      <h2>Contacts</h2>\n      <Filter filter={filter} handleChange={handleChange} />\n      <ContactList contacts={handleFilter()} deleteItem={deleteItem} />\n\n      <NotificationContainer />\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport auth from '../../redux/auth/auth-operation';\nimport { TextField, Button } from '@material-ui/core';\nimport styles from './Login.module.css';\n\nexport default function Register() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const dispatch = useDispatch();\n\n  const handleChange = e => {\n    console.log(e.target.type);\n    if (e.target.type === 'email') {\n      setEmail(e.target.value);\n      return;\n    }\n\n    if (e.target.type === 'password') {\n      setPassword(e.target.value);\n      return;\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    dispatch(auth.login({ email, password }));\n\n    setEmail('');\n    setPassword('');\n  };\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      noValidate\n      autoComplete=\"off\"\n      style={{ width: 300, display: 'flex', flexDirection: 'column' }}\n    >\n      <TextField\n        onChange={handleChange}\n        required\n        id=\"standard-required\"\n        label=\"Email\"\n        type=\"email\"\n        helperText=\"Enter your email\"\n      />\n      <TextField\n        onChange={handleChange}\n        required\n        id=\"standard-password-input\"\n        label=\"Password\"\n        type=\"password\"\n        autoComplete=\"current-password\"\n      />\n      <button className={styles.submitForm} type=\"submit\">\n        <Button variant=\"contained\" color=\"primary\" size=\"small\">\n          Submit\n        </Button>\n      </button>\n    </form>\n  );\n}\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport auth from '../../redux/auth/auth-operation';\nimport { TextField, Button } from '@material-ui/core';\nimport styles from './Register.module.css';\n\nexport default function Register() {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const dispatch = useDispatch();\n\n  const handleChange = e => {\n    if (e.target.type === 'text') {\n      setName(e.target.value);\n      return;\n    }\n    if (e.target.type === 'email') {\n      setEmail(e.target.value);\n      return;\n    }\n    if (e.target.type === 'password') {\n      setPassword(e.target.value);\n      return;\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    dispatch(auth.register({ name, email, password }));\n\n    setName('');\n    setEmail('');\n    setPassword('');\n  };\n  return (\n    <form\n      onSubmit={handleSubmit}\n      noValidate\n      autoComplete=\"off\"\n      className={styles.registerForm}\n    >\n      <TextField\n        onChange={handleChange}\n        required\n        id=\"standard-required\"\n        label=\"Name\"\n        type=\"name\"\n      />\n      <TextField\n        onChange={handleChange}\n        required\n        id=\"standard-required\"\n        label=\"Email\"\n        type=\"email\"\n      />\n      <TextField\n        onChange={handleChange}\n        required\n        id=\"standard-password-input\"\n        label=\"Password\"\n        type=\"password\"\n        autoComplete=\"current-password\"\n      />\n      <button className={styles.submitForm} type=\"submit\">\n        <Button variant=\"contained\" color=\"primary\" size=\"small\">\n          Submit\n        </Button>\n      </button>\n    </form>\n  );\n}\n","import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Route, Switch, Redirect } from \"react-router\";\nimport * as options from \"./redux/phonebook/phonebook-option\";\nimport \"./App.css\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport PublicRoute from \"./PublicRoute\";\nimport AppBar from \"./components/AppBar\";\nimport Phonebook from \"./components/Phonebook\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\n\n  useEffect(() => {\n    dispatch(options.fetchContacts());\n  }, [dispatch]);\n\n  return (\n    <div className=\"container\">\n      <AppBar />\n      <Switch>\n        <PrivateRoute path=\"/contacts\">\n          <Phonebook />\n        </PrivateRoute>\n        <PublicRoute path=\"/login\" restricted>\n          <Login />\n        </PublicRoute>\n        <PublicRoute path=\"/register\" restricted>\n          <Register />\n        </PublicRoute>\n        <Route path=\"/\">\n          {!isLoggedIn ? <Redirect to=\"/login\" /> : <Redirect to=\"/contacts\" />}\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { Provider } from 'react-redux';\nimport { store, persistor } from './redux/store';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loader={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cont\":\"UserMenu_cont__lDFDl\",\"email\":\"UserMenu_email__2YE3N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"registerForm\":\"Register_registerForm__3mUSh\",\"submitForm\":\"Register_submitForm__3NiX8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AppBar\":\"AppBar_AppBar__2gg5G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submitForm\":\"Login_submitForm__2G2Tb\"};"],"sourceRoot":""}